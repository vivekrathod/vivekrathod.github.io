---
title: Oracle Instant Client and NLS_LANG in Windows environment
date: 2012-01-06 14:43:00 Z
tags:
- ".NET"
- Oracle
- Technology
layout: post
author: Vivek Rathod
modified_time: '2013-01-24T12:07:36.623-05:00'
blogger_id: tag:blogger.com,1999:blog-3203466822740858620.post-2608830089553267343
blogger_orig_url: https://blog.vivekrathod.com/2012/01/oracle-instant-client-and-nlslang.html
---

When using <a href="http://www.oracle.com/technetwork/database/features/instant-client/index-100365.html" target="_blank">Oracle Instant client</a> in a multi-lingual environment, the <i>NLS_LANG parameter&nbsp;</i>needs to be set&nbsp;<i>manually</i>. When installing other flavors of Oracle client,&nbsp;the Universal Installer does this for you automatically. The Instant client doesn't have any installer - it is just a bunch of libraries which you unzip into a directory of your choice. Our&nbsp;.NET&nbsp;application uses (also redistributes) the Instant client, so for its proper operation in multi-lingual environment it needs to correctly set <i>NLS_LANG</i>.<br /><br /><i>NLS_LANG </i>is of the form&nbsp;&lt;<i>language&gt;</i><b>_</b><i>&lt;country/region&gt;</i><b>.</b><i>&lt;character set&gt;</i><br />On Windows,&nbsp;<i>NLS_LANG&nbsp;</i>can be set in Registry or as an environmental variable. On UNIX it is usually set as &nbsp;an environmental variable. The current locale settings in effect determines the values for <i>language, country/region </i>and the<i> character set</i>. For example,&nbsp;when using a non-unicode console based client like SQLPlus On Windows 7, the current locale settings is determined by the&nbsp;<i>Language for Non-Unicode programs</i>&nbsp;under&nbsp;<i>Control Panel -&gt; Clock, Language and Region -&gt; Region and Language -&gt;Administrative . </i>On my system this setting is <i>English (United States) </i>where <i>English </i>is&nbsp;the <i>language </i>and&nbsp;<i>United States </i>is the<i>&nbsp;</i><i>country</i>/<i>region&nbsp;</i>. The corresponding terms in Oracle would be <i>AMERICAN (language)&nbsp;</i>and <i>AMERICA (country/region).&nbsp;</i>The <i>character set </i>is determined by the Windows codepage in use - which one can look up in the registry (<i>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Nls\CodePage\</i>) or use the <a href="http://msdn.microsoft.com/en-us/goglobal/bb896001.aspx" target="_blank">National Language Support (NLS) API Reference</a>.&nbsp;For <i>English (United States) </i>the ANSI codepage is <i>1252 </i>and the OEM codepage is <i>437</i>. The ANSI codepage is used for GUI programs and the OEM codepage is used for <i>console </i>programs. Since SQLPlus is a <i>console </i>program, the OEM codepage of <i>437 </i>would be used. The corresponding Oracle&nbsp;<i>character set </i>&nbsp;for this OEM codepage would be <i>US8PC437. </i>The value of NLS_LANG in this case would be <i>AMERICAN_AMERICA.US8PC437</i><br /><div><div><div><br />If the client is a .NET application,&nbsp;the current locale can be found &nbsp;by looking at the <i>CurrentCulture.Name&nbsp;</i>property of <i>System.Threading.Thread.CurrentThread. </i>For example, on one of my test machines with a Chinese version of Windows 2008,&nbsp;<i>&nbsp;</i>the culture name is <i>zh-CN, </i>which in Oracle's terms translates to&nbsp;<i>'SIMPLIFIED CHINESE' </i>(language) and <i>'CHINA'</i>&nbsp;(country/region). And because .NET uses Unicode the character set &nbsp;in Oracle's terms would be UTF8 or AL32UTF8. The <i>NLS_LANG </i>would thenlook like<br /><i>SIMPLIFIED CHINESE_CHINA.AL32UTF8</i></div><div><br /></div><div>Its possible to leave the&nbsp;<i>region/country&nbsp;</i>portion blank, in which case a default matching the&nbsp;<i>language&nbsp;</i>would be chosen by Oracle. To help with mapping the language/region from Microsoft to Oracle here are two references <br />1. The&nbsp;<a href="http://msdn.microsoft.com/en-us/goglobal/bb896001.aspx" target="_blank">National Language Support (NLS) API Reference</a>&nbsp;lists all the supported locales on Windows.<br />2. Oracle's list of supported languages/regions can be found <a href="http://docs.oracle.com/cd/B19306_01/server.102/b14225/applocaledata.htm#sthref1944" target="_blank">here </a>in its <a href="http://docs.oracle.com/cd/B19306_01/server.102/b14225/toc.htm" target="_blank">Globalization Support Guide&nbsp;</a><span style="background-color: white; font-family: Tahoma, sans-serif; font-size: x-small; text-align: -webkit-left;"><b></b></span><br /><br /><br />Some more useful references on this topic - unfortunately they both require a support account<br /><strong style="font-family: Arial, Helvetica, sans-serif; font-size: 13px; text-align: -webkit-left;">1.&nbsp;<a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=179133.1" target="_blank">The correct NLS_LANG in a Windows Environment [ID 179133.1]</a>&nbsp;(<i>requires support account)</i></strong><br /><strong style="font-family: Arial, Helvetica, sans-serif; font-size: 13px; text-align: -webkit-left;"><i>2.&nbsp;</i></strong><strong style="font-family: Arial, Helvetica, sans-serif; font-size: 13px; text-align: -webkit-left;"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;doctype=BULLETIN&amp;id=158577.1" target="_blank">NLS_LANG Explained (How does Client-Server Character Conversion Work?) [ID 158577.1</a>&nbsp;(<i>requires support account</i>)</strong></div></div></div>